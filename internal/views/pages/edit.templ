package pages

import (
	"fmt"
	"homedb/internal/repository"
	"homedb/internal/views/components"
	"strconv"
)

templ Edit(item repository.Item, err error) {
	{{ units := map[string]string{"": "--WÃ¤hle eine Einheit aus--", "g": "g", "l": "l", "pcs": "pcs"} }}
	@components.Layout("Bearbeiten", true) {
		if err != nil {
			<p>{ err.Error() }</p>
		}
		<form action={ fmt.Sprintf("/items/%s/edit", item.ID) } method="post">
			@components.FormInput("text", "name", "Name", "", item.Name)
			@components.FormInput("number", "amount", "Menge", "", strconv.Itoa(int(item.Amount)))
			@components.Select("unit", string(item.Unit), "Einheit", units)
			<button type="submit" class="btn btn-primary">Speichern</button>
		</form>
	}
}
